// LCG parameters (from glibc)
let var seed = 0;
let A = 1103515245;
let C = 12345;
let M = 2147483648; // 2^31

// Function to generate the next random number
fun next_rand() {
    seed = (A * seed + C) % M;
    // Return a value in [0, 100]
    return (seed _/ (M _/ 101));
}

class Foo
{
    init(s, v)
    {
        s.v = v;
        s.x = 1;
        s.y = 2;
        s.z = 3;
    }
}

for (let var i = 0; i < 6_000_000; ++i)
{
    let r = next_rand();

    if (r < 25) {
        let o = Foo(r);
    } else if (r < 50) {
        let s = "string_" + r.to_s();
    } else if (r < 75) {
        let a = [i, r, 0, 0, 0, 9, 1, 2];
    } else {
        let ba = ByteArray.with_size(next_rand() % 10);
    }
}

$println("done");
