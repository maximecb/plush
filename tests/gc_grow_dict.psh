$vm_shrink_heap(4_000);

for (let var itrs = 0; itrs < 10; ++itrs)
{
    let dict = {};

    // This will trigger multiple GC rounds
    for (let var i = 0; i < 8_000; ++i)
    {
        let key = i.to_s();
        dict[key] = i;
    }

    for (let var i = 0; i < 8_000; ++i)
    {
        let key = i.to_s();
        assert(dict[key] == i);
    }
}
