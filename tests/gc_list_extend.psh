class Node
{
    init(self, val, next)
    {
        self.val = val;
        self.next = next;
    }
}

$vm_shrink_heap(256_000);

let var list = nil;
let num_nodes = 1_000_000;

for (let var i = 0; i < num_nodes; ++i)
{
    list = Node(1, list);
}

let var sum = 0;

for (let var node = list; node != nil; node = node.next)
{
    sum = sum + node.val;
}

assert(sum == num_nodes);
